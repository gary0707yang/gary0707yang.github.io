<!DOCTYPE html>
<html lang="en" itemscope itemtype="http://schema.org/WebPage">
  <head>
    
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
  'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-PTPVGMK');</script>
  

    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">


    <title>利用GA hit builder跟踪邮件打开 - GarysMap 营销笔记</title>
    <meta name="description" content="邮件里的GA跟踪 方式：Html格式的邮件会自动请求文件中包含的img标签，利用img标签的地址和GA的hit关联起来，从而监控邮件的打开次数和时间，以及hit payload 中所包含的信息，并显示在GA的面板里。 优势：可以把邮件打开看作是GA的event，利用统一的USER ID分析用户的邮件和网站行为，在同一个视">


    
<script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "BreadcrumbList",
    "itemListElement": [

      {
        "@type": "ListItem",
        "position": 1,
        "item": {
          "@id": "https://garysmap.com/posts/",
          "name": "Posts",
          "image": ""
        }
      },

      {
        "@type": "ListItem",
        "position": 2,
        "item": {
          "@id": "https://garysmap.com/posts/email-ga-tracking/",
          "name": "利用GA hit builder跟踪邮件打开",
          "image": ""
        }
      }
    ]
}
</script>



    <link rel="stylesheet" href="/css/theme.css">
    <link rel="stylesheet" href="/css/font-awesome.min.css">
    <link rel="stylesheet" href="/css/bootstrap.min.css">
    <link rel="stylesheet" href="/css/theme.css">
    <link rel="stylesheet" href="/css/local.css">
</head>
  <body>
    
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-PTPVGMK"
  height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  
<div class="d-flex flex-column flex-md-row align-items-center p-3 px-md-4 mb-3 bg-white border-bottom shadow-sm">
  <h5 class="my-0 mr-md-auto font-weight-normal">
  <a class="text-decoration-none" href="https://garysmap.com/">GarysMap 营销笔记</a></h5>
  <nav class="my-2 my-md-0 mr-md-3">
    <a class="p-2 text-dark" title="About" href="/pages/about/">About</a>
    <a class="p-2 text-dark" title="网站用户价值分析" href="/posts/5/">网站用户价值分析</a></nav>
</div>

  <div class="py-5 text-center">
    <h1>利用GA hit builder跟踪邮件打开</h1>
  </div>


    <div id="content">
<div class="container" role="main">
  <div class="row justify-content-center">
    <div class="col-lg-8">
  

    
<nav aria-label="breadcrumb">
  <ol class="breadcrumb">
    <li class="breadcrumb-item active" aria-current="page">
      <a href="/"><i class="fa fa-home"></i></a>
    </li>

  <li class="breadcrumb-item">
    <a href="/posts/"><small>Posts</small></a>
  </li>
  
  <li class="breadcrumb-item active" aria-current="page">
    <small>利用GA hit builder跟踪邮件打开</small>
  </li>
  
  </ol>
</nav>


    </div>
  </div>
  <article>
    <div class="row justify-content-center">
      
        <div class="col-lg-8">
          <h1 id="邮件里的ga跟踪">邮件里的GA跟踪</h1>
<p>方式：Html格式的邮件会自动请求文件中包含的img标签，利用img标签的地址和GA的hit关联起来，从而监控邮件的打开次数和时间，以及hit payload 中所包含的信息，并显示在GA的面板里。</p>
<p>优势：可以把邮件打开看作是GA的event，利用统一的USER ID分析用户的邮件和网站行为，在同一个视图中进行关联。</p>
<p>缺点：感觉ga的网址太过明显，而且和html的地址源不同，可能会被邮件系统拦截或者提示，目前没有见过真正应用的，可以当成原理展示吧。</p>
<h2 id="demo">demo</h2>
<p>目前有一名ID为abc的用户，参加了网站的SepSale活动，添加购物车但是没有完成购买，现在需要给他发一封促购邮件，并监测一下促购邮件效果。</p>
<p>营销&amp;GA 参数</p>
<p>跟踪id:&amp;tid  UA-130619534-1
客户端id: &amp;cid  UUID aeb07fff-21cd-4876-ab4b-05f8c680bcd2
user id: &amp;uid  abc
事件：t=event&amp;ec=email&amp;ea=open
文档路径：&amp;dp /email/
文件标题：&amp;dt /Email-Test/
系统信息字段
广告系列字段：
自定义维度1 ：&amp;cd1</p>
<p>最终形成的hit 链接为：
<a href="https://www.google-analytics.com/collect?">https://www.google-analytics.com/collect?</a>
v=1&amp;t=event&amp;tid=UA-130619534-1&amp;cid=aeb07fff-21cd-4876-ab4b-05f8c680bcd2&amp;uid=abc&amp;ec=email&amp;ea=open&amp;dp=%2Femail%2F&amp;cn=SepSale&amp;cm=email&amp;cs=SepSale-EDM</p>
<p>作为图像嵌入：
<!-- raw HTML omitted --></p>
<p>官方建议放入邮件html末尾，延迟加载影响。这样，用户在打开邮件的时候，跟踪标签会伪装成触发。回到GA实时监控，就能看到下图：</p>
<p><img src="/pics/email-tracking.png" alt="email-tracking-ga"></p>
<p>参考：</p>
<p><a href="https://developers.google.com/analytics/devguides/collection/protocol/v1/email">电子邮件跟踪 - Measurement Protocol</a></p>
<p><a href="https://ga-dev-tools.appspot.com/hit-builder/">Hit Builder</a></p>

          <div class="blog-tags">
            <a href="https://garysmap.com/tags/ga/">GA</a>&nbsp;
            <a href="https://garysmap.com/tags/email-tracking/">Email Tracking</a>&nbsp;
            
          </div>
          
        </div>
      
    </div>
    <div class="row justify-content-center pt-3">
      <div class="col-lg-8">
        <div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "garysmap-com" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
      </div>
    </div>
    
  </article>
</div>

    </div>  <footer class="my-5 pt-5 text-muted text-center text-small">
    <p class="mb-1 small">&copy;
      2021
    </p>
    <ul class="list-inline">
    </ul>
  </footer>


<script src="/js/jquery.slim.min.js"></script>
<script src="/js/popper.min.js"></script>
<script src="/js/bootstrap.min.js"></script>

</body>
</html>
